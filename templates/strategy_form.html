{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>Submit Trading Strategy</h2>

  {% if submitted %}
    <div class="alert alert-success">Strategy submitted successfully!</div>
  {% endif %}

  <form method="post" action="/submit-strategy">

    <!-- Basic Info -->
    <div class="card mb-3">
      <div class="card-header">Basic Info</div>
      <div class="card-body">
        <div class="form-group">
          <label>Symbol</label>
          <input name="symbol" class="form-control" required>
        </div>
        <div class="form-group mt-2">
          <label>Instrument Type</label>
          <select name="instrument_type" class="form-control">
            <option value="stock">Stock</option>
            <option value="option">Option</option>
            <option value="future">Future</option>
          </select>
        </div>
        <div class="form-group mt-2">
          <label>Exchange</label>
          <input name="exchange" class="form-control">
        </div>
      </div>
    </div>

    <!-- Strategy Logic -->
    <div class="card mb-3">
      <div class="card-header">Strategy Logic</div>
      <div class="card-body">
        <div class="form-group">
          <label>Entry Criteria</label>
          <textarea name="entry_criteria" class="form-control"></textarea>
        </div>
        <div class="form-group mt-2">
          <label>Exit Criteria</label>
          <textarea name="exit_criteria" class="form-control"></textarea>
        </div>
        <div class="form-group mt-2">
          <label>Indicators Used</label>
          <input name="indicators_used" class="form-control">
        </div>
        <div class="form-group mt-2">
          <label>Timeframe</label>
          <select name="timeframe" class="form-control">
            <option value="1min">1 Min</option>
            <option value="5min">5 Min</option>
            <option value="15min">15 Min</option>
            <option value="1d">Daily</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Risk Management -->
    <div class="card mb-3">
      <div class="card-header">Risk Management</div>
      <div class="card-body">
        <div class="form-group">
          <label>Capital Allocation</label>
          <input name="capital_allocation" type="number" class="form-control">
        </div>
        <div class="form-group mt-2">
          <label>Position Size</label>
          <input name="position_size" type="number" class="form-control">
        </div>
        <div class="form-group mt-2">
          <label>Stop Loss (%)</label>
          <input name="stop_loss" type="number" class="form-control">
        </div>
        <div class="form-group mt-2">
          <label>Take Profit (%)</label>
          <input name="take_profit" type="number" class="form-control">
        </div>
      </div>
    </div>

    <!-- Execution -->
    <div class="card mb-3">
      <div class="card-header">Execution Settings</div>
      <div class="card-body">
        <div class="form-group">
          <label>Execution Mode</label>
          <select name="execution_mode" class="form-control">
            <option value="paper">Paper</option>
            <option value="live">Live</option>
          </select>
        </div>
        <div class="form-group mt-2">
          <label>API Key</label>
          <input name="api_key" class="form-control">
        </div>
        <div class="form-group mt-2">
          <label>Order Type</label>
          <select name="order_type" class="form-control">
            <option value="market">Market</option>
            <option value="limit">Limit</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Misc -->
    <div class="card mb-3">
      <div class="card-header">Miscellaneous</div>
      <div class="card-body">
        <div class="form-group">
          <label>Notification Email</label>
          <input name="notification_email" class="form-control">
        </div>
        <div class="form-group mt-2">
          <label>Benchmark Symbol</label>
          <input name="benchmark_symbol" class="form-control">
        </div>
        <div class="form-group mt-2">
          <label>Transaction Cost (%)</label>
          <input name="transaction_cost" type="number" class="form-control">
        </div>
        <div class="form-group mt-2">
          <label>Expiry</label>
          <input name="expiry" type="date" class="form-control">
        </div>
      </div>
    </div>

    <button class="btn btn-primary mt-3" type="submit">Submit Strategy</button>
  </form>
</div>
{% endblock %}
